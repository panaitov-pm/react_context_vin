(this.webpackJsonpreact_context_vin=this.webpackJsonpreact_context_vin||[]).push([[0],{27:function(e,a,t){e.exports=t(49)},32:function(e,a,t){},49:function(e,a,t){"use strict";t.r(a);var n,r=t(0),c=t.n(r),l=t(11),s=t.n(l),i=t(9),o=(t(32),t(7)),u=t(10),m=t(24),d=function(e){var a=e.children,t=e.delay,n=e.className,l=Object(r.useState)(!1),s=Object(u.a)(l,2),i=s[0],o=s[1];return Object(r.useEffect)((function(){return setTimeout((function(){o(!0)}),t),function(){return o(!1)}}),[]),c.a.createElement(m.a,{in:i,timeout:500,classNames:n},a)},E=function(e){var a=e.title,t=void 0===a?"Page not found":a;return c.a.createElement(c.a.Fragment,null,c.a.createElement(d,{delay:0,className:"fade-up"},c.a.createElement("h1",{className:"fade-up"},t)),c.a.createElement(d,{delay:100,className:"fade-up"},c.a.createElement("a",{className:"variable__link-error fade-up",href:"/"},"Back to home")))},f=function(e,a){var t=a.map((function(e){return e.toLowerCase()}));return e.filter((function(e){return t.includes(e.title.toLowerCase())}))},N=t(12),h=t.n(N),V={Message:"",SearchCriteria:"",Results:[]},v=Object(r.createContext)({searchVIN:"",setSearchVIN:function(e){},decodeVIN:V,setDecodeVIN:function(e){},vehicleVariableList:V,setVehicleVariableList:function(e){},searchedVINList:[],addSearchedVIN:function(e){}}),_=function(e){return function(a){return c.a.createElement(v.Consumer,null,(function(t){return c.a.createElement(e,Object.assign({},a,t))}))}},I=function(e){return"string"!==typeof e?"":e.replace(/[^A-Z0-9]+/gi,"")},b=function(e){return e.length<=17},p=function(e){return!e||0===e.length},S=function(e,a){return e?a:null},L=_((function(e){var a=e.decodeVIN,t=e.queryDecodeVIN,n=e.searchVIN,l=e.setSearchVIN,s=Object(r.useState)(""),i=Object(u.a)(s,2),o=i[0],m=i[1],d=Object(r.useState)(!1),E=Object(u.a)(d,2),f=E[0],N=E[1];Object(r.useEffect)((function(){m("")}),[a.SearchCriteria]);return c.a.createElement("form",{className:"search-form",onSubmit:function(e){e.preventDefault(),p(n)?N(!0):t()}},c.a.createElement("div",{className:h()("search-form__field-wrap",{"has-error":f})},c.a.createElement("div",{className:"search-form__field"},c.a.createElement("label",{htmlFor:"search",className:"screen-reader-text"},"Search"),c.a.createElement("input",{id:"search",type:"search",className:"search-form__input",placeholder:"Enter search VIN...",value:o,onChange:function(e){var a=e.target.value;if(b(a)){var t=I(a).toUpperCase();N(!1),l(t),m(t)}}}),c.a.createElement("button",{type:"submit",className:"search-form__button"},"Search")),c.a.createElement("div",{className:"search-form__field-help"},S(f,"Field is not be empty"))))})),g=_((function(e){var a=e.isLoadingDecodeVIN,t=e.decodeVIN;return a?c.a.createElement("h1",null,"Loading...."):0===t.Results.length?null:c.a.createElement("ol",{className:"decode-list"},c.a.createElement(d,{delay:0,className:"fade"},c.a.createElement("li",{className:"decode-list__item fade"},c.a.createElement("span",null,"#"),c.a.createElement("span",null,"Variable"),c.a.createElement("span",null,"Value"))),t.Results.map((function(e,a){return c.a.createElement(d,{delay:10*a,className:"fade-down"},c.a.createElement("li",{key:e.VariableId,className:"decode-list__item fade-down"},c.a.createElement("span",null,a+1),c.a.createElement("span",null,e.Variable),c.a.createElement("span",null,e.Value)))})))})),y=_((function(e){var a=e.queryDecodeVIN,t=e.setSearchVIN,n=e.searchedVINList,r=e.decodeVIN;return c.a.createElement("ul",{className:"searched-list"},c.a.createElement("li",{className:"searched-list__item"},"Searched VIN"),n.slice(0,5).map((function(e,n){return c.a.createElement("li",{key:"".concat(e,"_").concat(n),className:"searched-list__item"},c.a.createElement("button",{className:h()("searched-list__btn",{"is-active":e===r.SearchCriteria}),type:"button",onClick:function(){return function(e){t(e.substr(4,e.length)),a()}(e)}},e))})))})),D=t(13),C=t.n(D),O={url:"https://vpic.nhtsa.dot.gov/api"},j={url:"variables"},A=function(e){if(!e)return V;var a=e.data,t=a.Message,n=a.SearchCriteria,r=a.Results;return{Message:t,SearchCriteria:n,Results:r?r.filter((function(e){return!p(e.Value)})):[]}},R=function(e){var a=C()({url:"".concat(O.url,"/vehicles/decodevin/").concat(e,"?format=json"),method:"GET"}),t=a.response,n=a.reFetch;return{response:t,error:a.error,loading:a.loading,decodeVIN:A(t),queryDecodeVIN:n}},T=function(e){sessionStorage.removeItem(e)};!function(e){e.VEHICLE_VARIABLE_LIST="vehicle_variable_list"}(n||(n={}));var H,k=n,w=_((function(e){var a,t=e.setDecodeVIN,n=e.setVehicleVariableList,l=e.addSearchedVIN,s=e.searchVIN,i=e.setSearchVIN,o=e.searchedVINList,u=R(s),m=u.response,E=u.queryDecodeVIN,f=u.loading,N=u.decodeVIN,h=null===m||void 0===m?void 0:null===(a=m.data)||void 0===a?void 0:a.SearchCriteria;return Object(r.useEffect)((function(){T(k.VEHICLE_VARIABLE_LIST),n(V)}),[]),Object(r.useEffect)((function(){i(""),h&&t(N)}),[h]),Object(r.useEffect)((function(){h&&!o.includes(h)&&l(h)}),[h]),c.a.createElement("main",{className:"main"},c.a.createElement("aside",{className:"sidebar"},c.a.createElement(d,{delay:0,className:"fade-up"},c.a.createElement(y,{queryDecodeVIN:E}))),c.a.createElement("section",{className:"decode-info"},c.a.createElement(d,{delay:0,className:"fade-up"},c.a.createElement(L,{queryDecodeVIN:E})),c.a.createElement(g,{isLoadingDecodeVIN:f})))})),x=function(){var e=C()({url:"".concat(O.url,"/vehicles/getvehiclevariablelist?format=json"),method:"GET"}),a=e.response,t=e.reFetch;return{response:a,error:e.error,loading:e.loading,queryVehicleVariableList:t}},B=t(21),F=t.n(B),q=function(e){if(!e)return"";var a=e.Description,t=a?F()(a):null;return"Error Text"!==t&&t},P=_((function(e){var a=e.vehicleVariableList,t=Object(o.f)();return c.a.createElement(c.a.Fragment,null,c.a.createElement(d,{delay:0,className:"fade"},c.a.createElement("h1",{className:"fade"},"Vehicle Variables")),c.a.createElement("ol",{className:"variable-list"},a.Results&&a.Results.map((function(e,a){return q(e)?c.a.createElement(d,{delay:10*a,className:"fade-down"},c.a.createElement("li",{key:e.ID,className:"variable-list__item fade-down"},c.a.createElement("a",{href:"/",className:"variable-list__link",onClick:function(a){a.preventDefault(),t.push("/".concat(j.url,"/").concat(e.ID))}},c.a.createElement("span",{className:"variable-list__index"},a+1),c.a.createElement("span",{className:"variable-list__name"},e.Name)))):null}))))})),J=function(e,a){var t=sessionStorage.getItem(e);return t?JSON.parse(t):a},M=function(e,a){sessionStorage.setItem(e,JSON.stringify(a))},G=_((function(e){e.vehicleVariableList;var a,t=e.setVehicleVariableList,n=x(),l=n.response,s=n.error,i=n.loading,o=n.queryVehicleVariableList;return Object(r.useEffect)((function(){var e=J(k.VEHICLE_VARIABLE_LIST,null);!e&&o(),e&&t(e)}),[]),Object(r.useEffect)((function(){var e;(null===l||void 0===l?void 0:null===(e=l.data)||void 0===e?void 0:e.Results)&&(t(l.data),M(k.VEHICLE_VARIABLE_LIST,l.data))}),[null===l||void 0===l?void 0:null===(a=l.data)||void 0===a?void 0:a.Results]),s||"string"===typeof(null===l||void 0===l?void 0:l.data)?c.a.createElement(E,{title:"No results"}):c.a.createElement("section",{className:"variable-info"},i?c.a.createElement("h1",null,"Loading..."):c.a.createElement(P,null))})),W=function(e,a){return e?e.Results.filter((function(e){return e.ID===+a}))[0]:null},U=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(d,{delay:0,className:"fade-up"},c.a.createElement("h1",{className:"fade-up"},"No description")),c.a.createElement(d,{delay:100,className:"fade-up"},c.a.createElement("a",{className:"variable__link-error fade-up",href:"/".concat(j.url)},"Back to Variables")))},Z=function(e){var a=e.variable;return c.a.createElement(c.a.Fragment,null,c.a.createElement(d,{delay:0,className:"fade-up"},c.a.createElement("h1",{className:"fade-up"},a.Name)),c.a.createElement(d,{delay:100,className:"fade-up"},c.a.createElement("div",{className:"variable__desc fade-up"},q(a))))},$=_((function(e){var a=e.vehicleVariableList,t=(e.decodeVIN,Object(o.g)()),n=W(a,t.variableId);return c.a.createElement("section",{className:"variable-info"},n?c.a.createElement(Z,{variable:n}):c.a.createElement(U,null))})),z=[{exact:!0,path:"/",component:w,title:"Home"},{exact:!0,path:"/".concat(j.url),component:G,title:"Variables"},{exact:!1,path:"/".concat(j.url,"/:variableId"),component:$,title:"Variable"}],K=function(){return c.a.createElement("nav",{className:"navbar container"},c.a.createElement("ul",{className:"navbar-list"},f(z,["home","variables"]).map((function(e,a){return c.a.createElement("li",{key:a,className:"navbar-list__item"},c.a.createElement(i.b,{exact:e.exact,to:e.path,className:"navbar-list__link"},e.title))}))))},Q=t(25),X=t(6);!function(e){e.SET_SEARCH_VIN="SET_SEARCH_VIN",e.SET_DECODE_VIN="SET_DECODE_VIN",e.SET__VEHICLE_VARIABLE_LIST="SET__VEHICLE_VARIABLE_LIST",e.ADD_SEARCHED_VIN="ADD_SEARCHED_VIN"}(H||(H={}));var Y=function(e,a){switch(a.type){case H.SET_DECODE_VIN:return Object(X.a)({},e,{decodeVIN:Object(X.a)({},e.decodeVIN,{},a.decodeVIN)});case H.SET__VEHICLE_VARIABLE_LIST:return Object(X.a)({},e,{vehicleVariableList:Object(X.a)({},e.setVehicleVariableList,{},a.vehicleVariableList)});case H.SET_SEARCH_VIN:return Object(X.a)({},e,{searchVIN:a.searchVIN});case H.ADD_SEARCHED_VIN:return Object(X.a)({},e,{searchedVINList:[a.searchedVIN].concat(Object(Q.a)(e.searchedVINList))});default:return e}},ee=function(e){var a=e.children,t=e.getDefaultProps,n=Object(r.useContext)(v),l=Object(r.useReducer)(Y,Object(X.a)({},n,{setSearchVIN:function(e){return o({type:H.SET_SEARCH_VIN,searchVIN:e})},setDecodeVIN:function(e){return o({type:H.SET_DECODE_VIN,decodeVIN:e})},setVehicleVariableList:function(e){return o({type:H.SET__VEHICLE_VARIABLE_LIST,vehicleVariableList:e})},addSearchedVIN:function(e){return o({type:H.ADD_SEARCHED_VIN,searchedVIN:e})}},t())),s=Object(u.a)(l,2),i=s[0],o=s[1];return c.a.createElement(v.Provider,{value:Object(X.a)({},i,{},t())},a)};ee.defaultProps={getDefaultProps:function(){return{}}};var ae=ee,te=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("header",{className:"header"},c.a.createElement(K,null)),c.a.createElement(ae,{getDefaultProps:function(){return{vehicleVariableList:J(k.VEHICLE_VARIABLE_LIST,V)}}},c.a.createElement("div",{className:"container"},c.a.createElement(o.c,null,z.map((function(e,a){return c.a.createElement(o.a,{key:a,exact:e.exact,path:e.path,render:function(a){return c.a.createElement(e.component,a)}})})),c.a.createElement(o.a,{component:E})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(i.a,null,c.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[27,1,2]]]);
//# sourceMappingURL=main.f920b21b.chunk.js.map